<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PakStream Video Player Test</title>
    <style>
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0; 
            padding: 40px; 
            background: linear-gradient(135deg, #141414 0%, #333333 100%);
            color: white; 
            min-height: 100vh;
        }
        .container { 
            max-width: 1200px; 
            margin: 0 auto; 
            background: rgba(0,0,0,0.8);
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        .header {
            text-align: center;
            margin-bottom: 40px;
        }
        .logo {
            font-size: 3em;
            font-weight: bold;
            color: #E50914;
            margin-bottom: 10px;
        }
        .video-container {
            background: #000;
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
        }
        video {
            width: 100%;
            height: auto;
        }
        .test-button {
            display: inline-block;
            background: #E50914;
            color: white;
            padding: 12px 24px;
            border-radius: 6px;
            text-decoration: none;
            font-weight: bold;
            margin: 10px 5px;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
        }
        .test-button:hover {
            background: #ff1a1a;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(229, 9, 20, 0.4);
        }
        .status {
            padding: 15px;
            margin: 15px 0;
            border-radius: 8px;
            border-left: 5px solid;
        }
        .success { 
            background: rgba(45, 90, 45, 0.3); 
            border-left-color: #4a7c4a;
        }
        .info { 
            background: rgba(45, 74, 90, 0.3); 
            border-left-color: #4a6a7c;
        }
        .error {
            background: rgba(90, 45, 45, 0.3);
            border-left-color: #7c4a4a;
        }
        .video-info {
            background: rgba(0,0,0,0.5);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">üé¨ PakStream</div>
            <h1>Video Player Test</h1>
            <p>Testing video playback functionality</p>
        </div>
        
        <div class="status info">
            <strong>üß™ Testing Video Playback</strong>
            <p>This page tests the video player functionality with different video sources.</p>
        </div>

        <div class="video-container">
            <h3>Test Video (Direct MP4)</h3>
            <video id="testVideo" controls preload="metadata" poster="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQwIiBoZWlnaHQ9IjQ4MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjMzMzIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIyNCIgZmlsbD0iI2ZmZiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vIFZpZGVvPC90ZXh0Pjwvc3ZnPg==">
                <source src="test-video.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>

        <div class="video-info">
            <h3>Video Information</h3>
            <p><strong>File:</strong> test-video.mp4</p>
            <p><strong>Type:</strong> MP4 Video</p>
            <p><strong>Size:</strong> 157KB</p>
            <p><strong>Duration:</strong> ~5 seconds</p>
        </div>

        <div class="status success">
            ‚úÖ <strong>Video Player Test</strong>
            <p>If you can see and play the video above, the basic video player functionality is working.</p>
        </div>

        <div style="text-align: center; margin: 30px 0;">
            <a href="http://localhost:3000" class="test-button" target="_blank">
                üé¨ Open PakStream App
            </a>
            <button onclick="testVideoUpload()" class="test-button">
                üì§ Test Video Upload
            </button>
            <button onclick="testVideoAPI()" class="test-button">
                üîó Test Video API
            </button>
        </div>

        <div class="status info">
            <strong>üîß How to Test:</strong>
            <ol>
                <li><strong>Check Video Playback:</strong> The video above should play when you click the play button</li>
                <li><strong>Open PakStream App:</strong> Click the button above to open the main application</li>
                <li><strong>Login as Admin:</strong> Use admin@example.com / admin123</li>
                <li><strong>Upload Video:</strong> Click "Upload Video" in the navbar</li>
                <li><strong>Test Upload:</strong> Upload the test-video.mp4 file</li>
                <li><strong>Play Video:</strong> Click on the uploaded video to play it</li>
            </ol>
        </div>

        <div class="status error">
            <strong>‚ö†Ô∏è Troubleshooting:</strong>
            <ul>
                <li>If video doesn't play, check browser console for errors</li>
                <li>Make sure both frontend (port 3000) and backend (port 5000) are running</li>
                <li>Check if test-video.mp4 exists in the current directory</li>
                <li>Verify admin credentials are working</li>
                <li>Check browser console for CORS or network errors</li>
            </ul>
        </div>
    </div>

    <script>
        function testVideoUpload() {
            alert('To test video upload:\n1. Open http://localhost:3000\n2. Login as admin@example.com / admin123\n3. Click "Upload Video"\n4. Upload test-video.mp4');
        }

        function testVideoAPI() {
            fetch('http://localhost:5000/api/videos')
                .then(response => response.json())
                .then(data => {
                    console.log('Video API Response:', data);
                    alert('Video API Response:\n' + JSON.stringify(data, null, 2));
                })
                .catch(error => {
                    console.error('API Error:', error);
                    alert('API Error: ' + error.message);
                });
        }

        // Test video loading
        const video = document.getElementById('testVideo');
        video.addEventListener('loadeddata', () => {
            console.log('‚úÖ Video loaded successfully');
            document.querySelector('.status.success p').innerHTML = '‚úÖ Video loaded successfully! The basic video player functionality is working.';
        });
        
        video.addEventListener('error', (e) => {
            console.error('‚ùå Video loading error:', e);
            document.querySelector('.status.error').innerHTML = '‚ùå <strong>Video Loading Error</strong><p>Video failed to load. Check console for details.</p>';
        });

        video.addEventListener('loadstart', () => {
            console.log('üîÑ Video load started');
        });

        video.addEventListener('canplay', () => {
            console.log('‚ñ∂Ô∏è Video can play');
        });
    </script>
</body>
</html>
